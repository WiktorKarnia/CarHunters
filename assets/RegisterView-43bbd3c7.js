import{a as n,o as d,e as h,f as o,x as c,y as p,A as x}from"./@vue-da3af5a5.js";import{d as P}from"./index-350e74d2.js";import{a as R,n as I,g as a,j as V,p as f,G as C,m as D}from"./@firebase-9cbab8cf.js";import{u as N}from"./vue-router-e40f2014.js";import"./firebase-002e2309.js";import"./tslib-4b8363ab.js";import"./idb-f62f60ab.js";const W={key:0},b=o("h1",null,"Register",-1),A={key:1},B=o("p",null,"Creating your account...",-1),E=o("div",{class:"spinner"},null,-1),G=[B,E],S={__name:"RegisterComponent",setup(y){const u=n(""),r=n(""),i=n(""),m=n(""),v=N(),l=n(!1),_=R(P,"accounts"),w=()=>{i.value!=m.value?alert("Passwords don't match, try again."):(l.value=!0,I(a(),u.value,i.value).then(s=>{const e=s.user;if(e)return V(e,{displayName:r.value})}).then(()=>{console.log("Success"),console.log(a().currentUser.displayName),v.push("/posts");const e=a().currentUser;f(_,{UID:e.uid,description:""}).then(t=>{console.log("New account added! With ID: "+t.id)}).catch(t=>{console.log(t.message)})}).catch(s=>{console.log(s),alert(s.message)}).finally(()=>{l.value=!1}))},U=()=>{l.value=!0,console.log("click");const s=new C;D(a(),s).then(e=>{console.log(e.user),v.push("/posts");const k=a().currentUser;f(_,{UID:k.uid,description:""}).then(g=>{console.log("New account added! With ID: "+g.id)}).catch(g=>{console.log(g.message)})}).catch(e=>{console.log("Error"),alert(e.message)}).finally(()=>{l.value=!1})};return(s,e)=>(d(),h("div",null,[l.value?(d(),h("div",A,G)):(d(),h("div",W,[b,o("p",null,[c(o("input",{type:"text",placeholder:"Email","onUpdate:modelValue":e[0]||(e[0]=t=>u.value=t)},null,512),[[p,u.value]])]),o("p",null,[c(o("input",{type:"text",placeholder:"Username","onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t)},null,512),[[p,r.value]])]),o("p",null,[c(o("input",{type:"password",placeholder:"Password","onUpdate:modelValue":e[2]||(e[2]=t=>i.value=t)},null,512),[[p,i.value]])]),o("p",null,[c(o("input",{type:"password",placeholder:"Repeat Password","onUpdate:modelValue":e[3]||(e[3]=t=>m.value=t)},null,512),[[p,m.value]])]),o("p",null,[o("button",{onClick:w},"Submit")]),o("p",null,[o("button",{onClick:U},"Sign in with Google")])]))]))}},H={__name:"RegisterView",setup(y){return(u,r)=>(d(),x(S))}};export{H as default};
