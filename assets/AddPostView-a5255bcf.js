import"./firebase-002e2309.js";import{i as c,w as d,b as p,c as u,u as f,e as g,f as _}from"./@firebase-9cbab8cf.js";import{f as h}from"./index-350e74d2.js";import{o as b,e as y,f as e,x as n,y as m,z as k}from"./@vue-da3af5a5.js";import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";import"./tslib-4b8363ab.js";import"./idb-f62f60ab.js";import"./vue-router-e40f2014.js";const x=c(h),F=d(x),w={data(){return{car:{make:"",model:"",engine:"",color:""}}},methods:{async submitForm(){let r=(Math.random()+1).toString(36).substring(7);const o=p(),a=u(o,"cars/"+r+".jpg"),l=document.getElementById("pictureFromCamera").src;await f(a,l,"data_url"),await g(_(F,"cars",r),{make:this.car.make,model:this.car.model,engine:this.car.engine,color:this.car.color,path:"cars/"+r+".jpg"}),console.log("The photo has been sent in path cars/"+r),this.car.make="",this.car.model="",this.car.engine="",this.car.color="",document.getElementById("pictureFromCamera").src=""},openCamera(r){const o=r.target.files[0],a=new FileReader;a.onload=()=>{const l=document.getElementById("pictureFromCamera");l.src=a.result},a.readAsDataURL(o)}}},z={class:"container px-5 mx-5"},C={class:"form-group"},V=e("label",{class:"form-label"},"Marka",-1),B={class:"form-group"},I=e("label",{class:"form-label"},"Model",-1),S={class:"form-group"},M=e("label",{class:"form-label"},"Silnik",-1),U={class:"form-group"},W=e("label",{class:"form-label"},"Kolor",-1),j=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),A={class:"form-group"},E=e("label",{for:"cameraFileInput",class:"btn btn-primary"},"Wybierz zdjęcie",-1),D=e("div",{class:"form-group"},[e("img",{id:"pictureFromCamera",class:"img-fluid"})],-1);function P(r,o,a,l,s,i){return b(),y("div",z,[e("form",{id:"form",onSubmit:o[5]||(o[5]=k((...t)=>i.submitForm&&i.submitForm(...t),["prevent"]))},[e("div",C,[V,n(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=t=>s.car.make=t),placeholder:"Wpisz markę samochodu"},null,512),[[m,s.car.make]])]),e("div",B,[I,n(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=t=>s.car.model=t),placeholder:"Wpisz model samochodu"},null,512),[[m,s.car.model]])]),e("div",S,[M,n(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=t=>s.car.engine=t),placeholder:"Wpisz rodzaj silnika"},null,512),[[m,s.car.engine]])]),e("div",U,[W,n(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[3]||(o[3]=t=>s.car.color=t),placeholder:"Wpisz kolor samochodu"},null,512),[[m,s.car.color]])]),j,e("div",A,[E,e("input",{onChange:o[4]||(o[4]=(...t)=>i.openCamera&&i.openCamera(...t)),style:{display:"none"},id:"cameraFileInput",type:"file",accept:"image/*",capture:"environment"},null,32)]),D],32)])}const J=v(w,[["render",P]]);export{J as default};
