import{z as n,P,s as x,I,o as p,c as v,a as s,h as i,v as d,V as R,y as a,K as V,W as f,T as N,U as W,N as C}from"./index-7a78fd94.js";const D={key:0},b=s("h1",null,"Register",-1),B={key:1},E=s("p",null,"Creating your account...",-1),A=s("div",{class:"spinner"},null,-1),G=[E,A],S={__name:"RegisterComponent",setup(y){const u=n(""),r=n(""),c=n(""),h=n(""),_=P(),l=n(!1),m=x(I,"accounts"),w=()=>{c.value!=h.value?alert("Passwords don't match, try again."):(l.value=!0,R(a(),u.value,c.value).then(o=>{const e=o.user;if(e)return V(e,{displayName:r.value})}).then(()=>{console.log("Success"),console.log(a().currentUser.displayName),_.push("/posts");const e=a().currentUser;f(m,{UID:e.uid,description:""}).then(t=>{console.log("New account added! With ID: "+t.id)}).catch(t=>{console.log(t.message)})}).catch(o=>{console.log(o),alert(o.message)}).finally(()=>{l.value=!1}))},U=()=>{l.value=!0,console.log("click");const o=new N;W(a(),o).then(e=>{console.log(e.user),_.push("/posts");const k=a().currentUser;f(m,{UID:k.uid,description:""}).then(g=>{console.log("New account added! With ID: "+g.id)}).catch(g=>{console.log(g.message)})}).catch(e=>{console.log("Error"),alert(e.message)}).finally(()=>{l.value=!1})};return(o,e)=>(p(),v("div",null,[l.value?(p(),v("div",B,G)):(p(),v("div",D,[b,s("p",null,[i(s("input",{type:"text",placeholder:"Email","onUpdate:modelValue":e[0]||(e[0]=t=>u.value=t)},null,512),[[d,u.value]])]),s("p",null,[i(s("input",{type:"text",placeholder:"Username","onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t)},null,512),[[d,r.value]])]),s("p",null,[i(s("input",{type:"password",placeholder:"Password","onUpdate:modelValue":e[2]||(e[2]=t=>c.value=t)},null,512),[[d,c.value]])]),s("p",null,[i(s("input",{type:"password",placeholder:"Repeat Password","onUpdate:modelValue":e[3]||(e[3]=t=>h.value=t)},null,512),[[d,h.value]])]),s("p",null,[s("button",{onClick:w},"Submit")]),s("p",null,[s("button",{onClick:U},"Sign in with Google")])]))]))}},z={__name:"RegisterView",setup(y){return(u,r)=>(p(),C(S))}};export{z as default};
